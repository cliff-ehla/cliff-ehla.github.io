import{S as re,i as ie,s as oe,k as v,a as I,q as H,l as E,m as w,c as A,r as T,h as u,n as d,b as D,E as _,u as q,C as R,G as ae,D as z}from"../../../../chunks/index-abe8bc1d.js";import{d as U}from"../../../../chunks/dayjs.min-40a0aa38.js";function W(s,e,l){const t=s.slice();return t[0]=e[l],t}function X(s,e,l){const t=s.slice();return t[6]=e[l],t}function ce(s){let e,l;return{c(){e=v("img"),this.h()},l(t){e=E(t,"IMG",{src:!0,class:!0,alt:!0}),this.h()},h(){z(e.src,l=`${s[2]}/blog/${s[1].createdAt.split("T")[0]}-${s[1].slug}/cover.jpg`)||d(e,"src",l),d(e,"class","shadow-lg rounded-lg mx-auto mb-8 max-w-sm"),d(e,"alt","missing image!")},m(t,a){D(t,e,a)},p(t,a){a&2&&!z(e.src,l=`${t[2]}/blog/${t[1].createdAt.split("T")[0]}-${t[1].slug}/cover.jpg`)&&d(e,"src",l)},d(t){t&&u(e)}}}function ne(s){let e,l;return{c(){e=v("img"),this.h()},l(t){e=E(t,"IMG",{src:!0,class:!0,alt:!0}),this.h()},h(){z(e.src,l=s[1].image.data.attributes.url)||d(e,"src",l),d(e,"class","shadow-lg rounded-lg mx-auto mb-8 max-w-sm"),d(e,"alt","missing image!")},m(t,a){D(t,e,a)},p(t,a){a&2&&!z(e.src,l=t[1].image.data.attributes.url)&&d(e,"src",l)},d(t){t&&u(e)}}}function Z(s){let e,l=s[0].author.data.attributes.name+"",t;return{c(){e=v("p"),t=H(l)},l(a){e=E(a,"P",{});var o=w(e);t=T(o,l),o.forEach(u)},m(a,o){D(a,e,o),_(e,t)},p(a,o){o&1&&l!==(l=a[0].author.data.attributes.name+"")&&q(t,l)},d(a){a&&u(e)}}}function ee(s){let e,l=s[6].attributes.name+"",t,a;return{c(){e=v("a"),t=H(l),this.h()},l(o){e=E(o,"A",{href:!0,class:!0});var c=w(e);t=T(c,l),c.forEach(u),this.h()},h(){d(e,"href",a="/blog/category/"+s[6].attributes.slug+"/1"),d(e,"class","text-base border-b border-gray-700 text-gray-700 mr-2 mb-1")},m(o,c){D(o,e,c),_(e,t)},p(o,c){c&1&&l!==(l=o[6].attributes.name+"")&&q(t,l),c&1&&a!==(a="/blog/category/"+o[6].attributes.slug+"/1")&&d(e,"href",a)},d(o){o&&u(e)}}}function te(s){let e,l,t,a,o=s[0].related_posts.data,c=[];for(let i=0;i<o.length;i+=1)c[i]=le(W(s,o,i));return{c(){e=v("h2"),l=H("相關文章"),t=I(),a=v("div");for(let i=0;i<c.length;i+=1)c[i].c();this.h()},l(i){e=E(i,"H2",{class:!0});var h=w(e);l=T(h,"相關文章"),h.forEach(u),t=A(i),a=E(i,"DIV",{class:!0});var n=w(a);for(let k=0;k<c.length;k+=1)c[k].l(n);n.forEach(u),this.h()},h(){d(e,"class","font-bold text-xl mb-4"),d(a,"class","grid grid-cols-1 sm:grid-cols-2 gap-8")},m(i,h){D(i,e,h),_(e,l),D(i,t,h),D(i,a,h);for(let n=0;n<c.length;n+=1)c[n].m(a,null)},p(i,h){if(h&1){o=i[0].related_posts.data;let n;for(n=0;n<o.length;n+=1){const k=W(i,o,n);c[n]?c[n].p(k,h):(c[n]=le(k),c[n].c(),c[n].m(a,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=o.length}},d(i){i&&u(e),i&&u(t),i&&u(a),ae(c,i)}}}function le(s){let e,l,t,a=s[0].attributes.title+"",o,c,i;return{c(){e=v("a"),l=v("div"),t=v("h3"),o=H(a),c=I(),this.h()},l(h){e=E(h,"A",{href:!0,class:!0});var n=w(e);l=E(n,"DIV",{class:!0});var k=w(l);t=E(k,"H3",{class:!0});var G=w(t);o=T(G,a),G.forEach(u),k.forEach(u),c=A(n),n.forEach(u),this.h()},h(){d(t,"class","font-bold text-base leading-tight"),d(l,"class","p-2"),d(e,"href",i="/blog/"+s[0].attributes.slug),d(e,"class","border border-gray-400 rounded-lg overflow-hidden")},m(h,n){D(h,e,n),_(e,l),_(l,t),_(t,o),_(e,c)},p(h,n){n&1&&a!==(a=h[0].attributes.title+"")&&q(o,a),n&1&&i!==(i="/blog/"+h[0].attributes.slug)&&d(e,"href",i)},d(h){h&&u(e)}}}function fe(s){let e,l,t,a=s[0].title+"",o,c,i,h,n=U(s[0].createdAt).format("DD MMM YYYY")+"",k,G,M,P,B,N,F,V,C=s[0].content+"",L,Y;function K(r,f){return r[1].image.data?ne:ce}let $=K(s),y=$(s),g=s[0].author.data&&Z(s),S=s[0].categories.data,p=[];for(let r=0;r<S.length;r+=1)p[r]=ee(X(s,S,r));let b=s[0].related_posts.data.length&&te(s);return{c(){e=v("div"),y.c(),l=I(),t=v("h1"),o=H(a),c=I(),g&&g.c(),i=I(),h=v("p"),k=H(n),G=I(),M=v("div"),P=v("span"),B=H("檔案:"),N=I();for(let r=0;r<p.length;r+=1)p[r].c();F=I(),V=v("div"),L=I(),Y=v("div"),b&&b.c(),this.h()},l(r){e=E(r,"DIV",{class:!0});var f=w(e);y.l(f),l=A(f),t=E(f,"H1",{class:!0});var m=w(t);o=T(m,a),m.forEach(u),c=A(f),g&&g.l(f),i=A(f),h=E(f,"P",{});var j=w(h);k=T(j,n),j.forEach(u),G=A(f),M=E(f,"DIV",{class:!0});var x=w(M);P=E(x,"SPAN",{class:!0});var O=w(P);B=T(O,"檔案:"),O.forEach(u),N=A(x);for(let J=0;J<p.length;J+=1)p[J].l(x);x.forEach(u),F=A(f),V=E(f,"DIV",{class:!0});var se=w(V);se.forEach(u),f.forEach(u),L=A(r),Y=E(r,"DIV",{class:!0});var Q=w(Y);b&&b.l(Q),Q.forEach(u),this.h()},h(){d(t,"class","text-2xl text-gray-800 my-4"),d(P,"class","text-sm mr-1 mt-0.5 text-gray-500"),d(M,"class","flex flex-wrap my-4"),d(V,"class","post-body"),d(e,"class","mx-auto mb-12 max-w-screen-md px-4 leading-loose text-gray-700 text-lg"),d(Y,"class","mx-auto max-w-screen-md px-4 my-12")},m(r,f){D(r,e,f),y.m(e,null),_(e,l),_(e,t),_(t,o),_(e,c),g&&g.m(e,null),_(e,i),_(e,h),_(h,k),_(e,G),_(e,M),_(M,P),_(P,B),_(M,N);for(let m=0;m<p.length;m+=1)p[m].m(M,null);_(e,F),_(e,V),V.innerHTML=C,D(r,L,f),D(r,Y,f),b&&b.m(Y,null)},p(r,[f]){if($===($=K(r))&&y?y.p(r,f):(y.d(1),y=$(r),y&&(y.c(),y.m(e,l))),f&1&&a!==(a=r[0].title+"")&&q(o,a),r[0].author.data?g?g.p(r,f):(g=Z(r),g.c(),g.m(e,i)):g&&(g.d(1),g=null),f&1&&n!==(n=U(r[0].createdAt).format("DD MMM YYYY")+"")&&q(k,n),f&1){S=r[0].categories.data;let m;for(m=0;m<S.length;m+=1){const j=X(r,S,m);p[m]?p[m].p(j,f):(p[m]=ee(j),p[m].c(),p[m].m(M,null))}for(;m<p.length;m+=1)p[m].d(1);p.length=S.length}f&1&&C!==(C=r[0].content+"")&&(V.innerHTML=C),r[0].related_posts.data.length?b?b.p(r,f):(b=te(r),b.c(),b.m(Y,null)):b&&(b.d(1),b=null)},i:R,o:R,d(r){r&&u(e),y.d(),g&&g.d(),ae(p,r),r&&u(L),r&&u(Y),b&&b.d()}}}function ue(s,e,l){let t,a,{data:o}=e;const c="https://empowerhk.s3.ap-southeast-1.amazonaws.com";return s.$$set=i=>{"data"in i&&l(3,o=i.data)},s.$$.update=()=>{s.$$.dirty&8&&l(0,t=o.attributes),s.$$.dirty&1&&l(1,a=t)},[t,a,c,o]}class _e extends re{constructor(e){super(),ie(this,e,ue,fe,oe,{data:3})}}export{_e as default};
