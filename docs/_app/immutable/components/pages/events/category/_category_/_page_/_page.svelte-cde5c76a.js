import{S as W,i as X,s as Z,k as g,a as E,q as Y,l as p,m as w,h as d,c as M,r as y,I as N,n as h,b as x,G as f,u as q,C as F,D as ee,f as j,d as ae,t as G,x as le,y as se,z as re,A as ne,g as ie}from"../../../../../../chunks/index-cd36ba59.js";import{d as z}from"../../../../../../chunks/dayjs.min-5bb9e017.js";function J(i,e,s){const l=i.slice();return l[3]=e[s],l}function K(i){let e,s=z(i[0].attributes.end_date).format("MM.DD")+"",l;return{c(){e=Y("- "),l=Y(s)},l(t){e=y(t,"- "),l=y(t,s)},m(t,o){x(t,e,o),x(t,l,o)},p(t,o){o&1&&s!==(s=z(t[0].attributes.end_date).format("MM.DD")+"")&&q(l,s)},d(t){t&&d(e),t&&d(l)}}}function O(i){let e,s,l,t,o=i[0].attributes.event_categories.data,a=[];for(let r=0;r<o.length;r+=1)a[r]=Q(J(i,o,r));return{c(){e=g("div"),s=g("span"),l=Y("分類:"),t=E();for(let r=0;r<a.length;r+=1)a[r].c();this.h()},l(r){e=p(r,"DIV",{class:!0});var n=w(e);s=p(n,"SPAN",{class:!0});var c=w(s);l=y(c,"分類:"),c.forEach(d),t=M(n);for(let b=0;b<a.length;b+=1)a[b].l(n);n.forEach(d),this.h()},h(){h(s,"class","text-xs mr-1 mt-0.5 text-gray-500"),h(e,"class","flex flex-wrap")},m(r,n){x(r,e,n),f(e,s),f(s,l),f(e,t);for(let c=0;c<a.length;c+=1)a[c].m(e,null)},p(r,n){if(n&1){o=r[0].attributes.event_categories.data;let c;for(c=0;c<o.length;c+=1){const b=J(r,o,c);a[c]?a[c].p(b,n):(a[c]=Q(b),a[c].c(),a[c].m(e,null))}for(;c<a.length;c+=1)a[c].d(1);a.length=o.length}},d(r){r&&d(e),ee(a,r)}}}function Q(i){let e,s=i[3].attributes.name+"",l,t;return{c(){e=g("a"),l=Y(s),this.h()},l(o){e=p(o,"A",{href:!0,class:!0});var a=w(e);l=y(a,s),a.forEach(d),this.h()},h(){h(e,"href",t="/events/category/"+i[3].attributes.slug+"/1"),h(e,"class","text-sm border-b border-gray-700 text-gray-700 mr-2 mb-1")},m(o,a){x(o,e,a),f(e,l)},p(o,a){a&1&&s!==(s=o[3].attributes.name+"")&&q(l,s),a&1&&t!==(t="/events/category/"+o[3].attributes.slug+"/1")&&h(e,"href",t)},d(o){o&&d(e)}}}function oe(i){let e,s,l,t,o,a,r,n=z(i[0].attributes.start_date).format("YYYY.MM.DD")+"",c,b,H,$,A=i[0].attributes.title+"",I,S,D,P=i[0].attributes.excerpt+"",C,T,_=i[0].attributes.end_date&&K(i),m=i[0].attributes.event_categories&&O(i);return{c(){e=g("a"),s=g("div"),l=g("img"),o=E(),a=g("div"),r=g("p"),c=Y(n),b=E(),_&&_.c(),H=E(),$=g("h2"),I=Y(A),S=E(),D=g("p"),C=E(),m&&m.c(),this.h()},l(u){e=p(u,"A",{href:!0,class:!0});var v=w(e);s=p(v,"DIV",{class:!0});var L=w(s);l=p(L,"IMG",{src:!0,alt:!0}),L.forEach(d),o=M(v),a=p(v,"DIV",{class:!0});var k=w(a);r=p(k,"P",{class:!0});var V=w(r);c=y(V,n),b=M(V),_&&_.l(V),V.forEach(d),H=M(k),$=p(k,"H2",{class:!0});var B=w($);I=y(B,A),B.forEach(d),S=M(k),D=p(k,"P",{class:!0});var te=w(D);te.forEach(d),C=M(k),m&&m.l(k),k.forEach(d),v.forEach(d),this.h()},h(){N(l.src,t=`https://empowerhk.s3.ap-southeast-1.amazonaws.com/events/${i[0].attributes.createdAt.split("T")[0]}-${i[0].attributes.slug}/cover.jpg`)||h(l,"src",t),h(l,"alt","missing image!"),h(s,"class","w-full sm:w-48 flex-shrink-0"),h(r,"class","italic text-blue-900 font-bold"),h($,"class","text-lg leading-tight font-bold"),h(D,"class","mb-2 text-gray-700 text-sm"),h(a,"class","ml-0 sm:ml-4 mt-2 sm:mt-0"),h(e,"href",T="/events/"+i[0].attributes.slug),h(e,"class","hover:bg-blue-50 hover:text-blue-600 flex flex-col sm:flex-row my-6")},m(u,v){x(u,e,v),f(e,s),f(s,l),f(e,o),f(e,a),f(a,r),f(r,c),f(r,b),_&&_.m(r,null),f(a,H),f(a,$),f($,I),f(a,S),f(a,D),D.innerHTML=P,f(a,C),m&&m.m(a,null)},p(u,[v]){v&1&&!N(l.src,t=`https://empowerhk.s3.ap-southeast-1.amazonaws.com/events/${u[0].attributes.createdAt.split("T")[0]}-${u[0].attributes.slug}/cover.jpg`)&&h(l,"src",t),v&1&&n!==(n=z(u[0].attributes.start_date).format("YYYY.MM.DD")+"")&&q(c,n),u[0].attributes.end_date?_?_.p(u,v):(_=K(u),_.c(),_.m(r,null)):_&&(_.d(1),_=null),v&1&&A!==(A=u[0].attributes.title+"")&&q(I,A),v&1&&P!==(P=u[0].attributes.excerpt+"")&&(D.innerHTML=P),u[0].attributes.event_categories?m?m.p(u,v):(m=O(u),m.c(),m.m(a,null)):m&&(m.d(1),m=null),v&1&&T!==(T="/events/"+u[0].attributes.slug)&&h(e,"href",T)},i:F,o:F,d(u){u&&d(e),_&&_.d(),m&&m.d()}}}function ce(i,e,s){let l,{event:t}=e;return i.$$set=o=>{"event"in o&&s(1,t=o.event)},i.$$.update=()=>{i.$$.dirty&2&&s(0,l=t)},[l,t]}class ue extends W{constructor(e){super(),X(this,e,ce,oe,Z,{event:1})}}function R(i,e,s){const l=i.slice();return l[3]=e[s],l}function U(i){let e,s;return e=new ue({props:{event:i[3]}}),{c(){le(e.$$.fragment)},l(l){se(e.$$.fragment,l)},m(l,t){re(e,l,t),s=!0},p(l,t){const o={};t&1&&(o.event=l[3]),e.$set(o)},i(l){s||(j(e.$$.fragment,l),s=!0)},o(l){G(e.$$.fragment,l),s=!1},d(l){ne(e,l)}}}function fe(i){let e,s,l=i[0],t=[];for(let a=0;a<l.length;a+=1)t[a]=U(R(i,l,a));const o=a=>G(t[a],1,1,()=>{t[a]=null});return{c(){e=g("div");for(let a=0;a<t.length;a+=1)t[a].c();this.h()},l(a){e=p(a,"DIV",{class:!0});var r=w(e);for(let n=0;n<t.length;n+=1)t[n].l(r);r.forEach(d),this.h()},h(){h(e,"class","mx-auto p-4 max-w-screen-lg")},m(a,r){x(a,e,r);for(let n=0;n<t.length;n+=1)t[n].m(e,null);s=!0},p(a,[r]){if(r&1){l=a[0];let n;for(n=0;n<l.length;n+=1){const c=R(a,l,n);t[n]?(t[n].p(c,r),j(t[n],1)):(t[n]=U(c),t[n].c(),j(t[n],1),t[n].m(e,null))}for(ie(),n=l.length;n<t.length;n+=1)o(n);ae()}},i(a){if(!s){for(let r=0;r<l.length;r+=1)j(t[r]);s=!0}},o(a){t=t.filter(Boolean);for(let r=0;r<t.length;r+=1)G(t[r]);s=!1},d(a){a&&d(e),ee(t,a)}}}function he(i,e,s){let l,{data:t}=e;return console.log(t),i.$$set=o=>{"data"in o&&s(1,t=o.data)},i.$$.update=()=>{i.$$.dirty&2&&s(0,l=t.data),i.$$.dirty&2&&t.meta.pagination},[l,t]}class de extends W{constructor(e){super(),X(this,e,he,fe,Z,{data:1})}}export{de as default};
